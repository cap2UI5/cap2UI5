sap.ui.define(["sap/ui/core/mvc/Controller","z2ui5/controller/View1.controller","z2ui5/cc/Server","sap/ui/core/routing/HashChanger"],function(e,t,r,i){return e.extend("z2ui5.controller.App",{onInit(){z2ui5.oOwnerComponent=this.getOwnerComponent();z2ui5.oConfig.pathname=z2ui5.oOwnerComponent.getManifest()["sap.app"].dataSources.http.uri;if(z2ui5?.checkLocal==true){z2ui5.oConfig.pathname=window.location.href}z2ui5.oController=new t;z2ui5.oApp=this.getView().byId("app");z2ui5.oControllerNest=new t;z2ui5.oControllerNest2=new t;z2ui5.oControllerPopup=new t;z2ui5.oControllerPopover=new t;z2ui5.onBeforeRoundtrip=[];z2ui5.onAfterRendering=[];z2ui5.onBeforeEventFrontend=[];z2ui5.onAfterRoundtrip=[];z2ui5.checkNestAfter=false;if(i.getInstance().getHash()){z2ui5.checkInit=true;r.Roundtrip()}}})});sap.ui.define("z2ui5/Timer",["sap/ui/core/Control"],e=>{"use strict";return e.extend("z2ui5.Timer",{metadata:{properties:{delayMS:{type:"string",defaultValue:""},checkActive:{type:"boolean",defaultValue:true},checkRepeat:{type:"boolean",defaultValue:false}},events:{finished:{allowPreventDefault:true,parameters:{}}}},onAfterRendering(){},delayedCall(e){if(e.getProperty("checkActive")==false){return}setTimeout(e=>{e.setProperty("checkActive",false);e.fireFinished();if(e.getProperty("checkRepeat")){e.delayedCall(e)}},parseInt(e.getProperty("delayMS")),e)},renderer(e,t){t.delayedCall(t)}})});sap.ui.define("z2ui5/Focus",["sap/ui/core/Control"],e=>{"use strict";return e.extend("z2ui5.Focus",{metadata:{properties:{setUpdate:{type:"boolean",defaultValue:true},focusId:{type:"string"},selectionStart:{type:"string",defaultValue:"0"},selectionEnd:{type:"string",defaultValue:"0"}}},init(){},setFocusId(e){try{this.setProperty("focusId",e);var t=z2ui5.oView.byId(e);var r=t.getFocusInfo();t.applyFocusInfo(r)}catch(e){}},renderer(e,t){if(!t.getProperty("setUpdate")){return}t.setProperty("setUpdate",false);setTimeout(e=>{var t=z2ui5.oView.byId(e.getProperty("focusId"));var r=t.getFocusInfo();r.selectionStart=parseInt(e.getProperty("selectionStart"));r.selectionEnd=parseInt(e.getProperty("selectionEnd"));t.applyFocusInfo(r)},100,t)}})});sap.ui.define("z2ui5/Title",["sap/ui/core/Control"],e=>{"use strict";return e.extend("z2ui5.Title",{metadata:{properties:{title:{type:"string"}}},setTitle(e){this.setProperty("title",e);document.title=e},renderer(e,t){}})});sap.ui.define("z2ui5/LPTitle",["sap/ui/core/Control"],e=>{"use strict";return e.extend("z2ui5.LPTitle",{metadata:{properties:{title:{type:"string"},ApplicationFullWidth:{type:"boolean"}}},setTitle(e){try{this.setProperty("title",e);z2ui5.oLaunchpadService.setTitle(e)}catch(e){console.error("Launchpad Service to set Title not found")}},setApplicationFullWidth(e){this.setProperty("ApplicationFullWidth",e);z2ui5.ApplicationFullWidth=e;sap.ui.require(["sap/ushell/services/AppConfiguration"],async e=>{e.setApplicationFullWidth(z2ui5.ApplicationFullWidth)})},renderer(e,t){}})});sap.ui.define("z2ui5/History",["sap/ui/core/Control"],e=>{"use strict";return e.extend("z2ui5.History",{metadata:{properties:{search:{type:"string"}}},setSearch(e){this.setProperty("search",e);history.replaceState(null,null,window.location.pathname+e)},renderer(e,t){}})});sap.ui.define("z2ui5/Tree",["sap/ui/core/Control"],e=>{"use strict";return e.extend("z2ui5.Tree",{metadata:{properties:{tree_id:{type:"string"}}},setBackend(){z2ui5.treeState=z2ui5.oView.byId(this.getProperty("tree_id")).getBinding("items").getCurrentTreeState()},init(){z2ui5.onBeforeRoundtrip.push(this.setBackend.bind(this))},renderer(e,t){if(!z2ui5.treeState)return;setTimeout(e=>{z2ui5.oView.byId(e).getBinding("items").setTreeState(z2ui5.treeState)},100,t.getProperty("tree_id"))}})});sap.ui.define("z2ui5/Scrolling",["sap/ui/core/Control"],e=>{"use strict";return e.extend("z2ui5.Scrolling",{metadata:{properties:{setUpdate:{type:"boolean",defaultValue:true},items:{type:"Array"}}},setBackend(){const e=this.getProperty("items");if(e){e.forEach(e=>{try{const t=z2ui5.oView.byId(e.N).getScrollDelegate();e.V=t?t.getScrollTop():0}catch{try{const t=document.getElementById(`${z2ui5.oView.byId(e.ID).getId()}-inner`);e.V=t?t.scrollTop:0}catch{}}})}},init(){z2ui5.onBeforeRoundtrip.push(this.setBackend.bind(this))},renderer(e,t){if(!t.getProperty("setUpdate"))return;t.setProperty("setUpdate",false);const r=t.getProperty("items");if(!r)return;setTimeout(()=>{r.forEach(e=>{try{z2ui5.oView.byId(e.N).scrollTo(e.V)}catch{try{const t=document.getElementById(`${z2ui5.oView.byId(e.ID).getId()}-inner`);if(t)t.scrollTop=e.V}catch{setTimeout(()=>{z2ui5.oView.byId(e.N).scrollTo(e.V)},1)}}})},100)}})});sap.ui.define("z2ui5/Info",["sap/ui/core/Control","sap/ui/VersionInfo","sap/ui/Device"],e=>{"use strict";return e.extend("z2ui5.Info",{metadata:{properties:{ui5_version:{type:"string"},device_phone:{type:"string"},device_desktop:{type:"string"},device_tablet:{type:"string"},device_combi:{type:"string"},device_height:{type:"string"},device_width:{type:"string"},ui5_theme:{type:"string"},device_os:{type:"string"},device_systemtype:{type:"string"},device_browser:{type:"string"}},events:{finished:{allowPreventDefault:true,parameters:{}}}},init(){},onAfterRendering(){},async renderer(e,t){let r=z2ui5.oView.getModel("device").oData;t.setProperty("ui5_version",z2ui5.oConfig.UI5VersionInfo.version);t.setProperty("device_phone",r.system.phone);t.setProperty("device_desktop",r.system.desktop);t.setProperty("device_tablet",r.system.tablet);t.setProperty("device_combi",r.system.combi);t.setProperty("device_height",r.resize.height);t.setProperty("device_width",r.resize.width);t.setProperty("device_os",r.os.name);t.setProperty("device_browser",r.browser.name);t.fireFinished()}})});sap.ui.define("z2ui5/Geolocation",["sap/ui/core/Control"],e=>{"use strict";return e.extend("z2ui5.Geolocation",{metadata:{properties:{longitude:{type:"string",defaultValue:""},latitude:{type:"string",defaultValue:""},altitude:{type:"string",defaultValue:""},accuracy:{type:"string",defaultValue:""},altitudeAccuracy:{type:"string",defaultValue:""},speed:{type:"string",defaultValue:false},heading:{type:"string",defaultValue:false},enableHighAccuracy:{type:"boolean",defaultValue:false},timeout:{type:"string",defaultValue:"5000"}},events:{finished:{allowPreventDefault:true,parameters:{}}}},callbackPosition(e){this.setProperty("longitude",e.coords.longitude,true);this.setProperty("latitude",e.coords.latitude,true);this.setProperty("altitude",e.coords.altitude,true);this.setProperty("accuracy",e.coords.accuracy,true);this.setProperty("altitudeAccuracy",e.coords.altitudeAccuracy,true);this.setProperty("speed",e.coords.speed,true);this.setProperty("heading",e.coords.heading,true);this.fireFinished()},async init(){navigator.geolocation.getCurrentPosition(this.callbackPosition.bind(this))},exit(){},onAfterRendering(){},renderer(){}})});sap.ui.define("z2ui5/FileUploader",["sap/ui/core/Control","sap/m/Button","sap/ui/unified/FileUploader","sap/m/HBox"],function(e,t,r,i){"use strict";return e.extend("z2ui5.FileUploader",{metadata:{properties:{value:{type:"string",defaultValue:""},path:{type:"string",defaultValue:""},tooltip:{type:"string",defaultValue:""},fileType:{type:"string",defaultValue:""},placeholder:{type:"string",defaultValue:""},buttonText:{type:"string",defaultValue:""},style:{type:"string",defaultValue:""},uploadButtonText:{type:"string",defaultValue:"Upload"},enabled:{type:"boolean",defaultValue:true},icon:{type:"string",defaultValue:"sap-icon://browse-folder"},iconOnly:{type:"boolean",defaultValue:false},buttonOnly:{type:"boolean",defaultValue:false},multiple:{type:"boolean",defaultValue:false},visible:{type:"boolean",defaultValue:true},checkDirectUpload:{type:"boolean",defaultValue:false}},aggregations:{},events:{upload:{allowPreventDefault:true,parameters:{}}},renderer:null},renderer:function(e,o){if(!o.getProperty("checkDirectUpload")){o.oUploadButton=new t({text:o.getProperty("uploadButtonText"),enabled:o.getProperty("path")!=="",press:function(e){this.setProperty("path",this.oFileUploader.getProperty("value"));var t=z2ui5.oUpload.oFileUpload.files[0];var r=new FileReader;r.onload=function(e){var t=e.currentTarget.result;this.setProperty("value",t);this.fireUpload()}.bind(this);r.readAsDataURL(t)}.bind(o)})}o.oFileUploader=new r({icon:o.getProperty("icon"),iconOnly:o.getProperty("iconOnly"),buttonOnly:o.getProperty("buttonOnly"),buttonText:o.getProperty("buttonText"),style:o.getProperty("style"),fileType:o.getProperty("fileType"),visible:o.getProperty("visible"),uploadOnChange:o.getProperty("checkDirectUpload"),enabled:o.getProperty("enabled"),value:o.getProperty("path"),placeholder:o.getProperty("placeholder"),change:function(e){if(o.getProperty("checkDirectUpload")){return}var t=e.getSource().getProperty("value");this.setProperty("path",t);if(t){this.oUploadButton.setEnabled()}else{this.oUploadButton.setEnabled(false)}this.oUploadButton.rerender();z2ui5.oUpload=e.oSource}.bind(o),uploadComplete:function(e){if(!o.getProperty("checkDirectUpload")){return}var t=e.getSource().getProperty("value");this.setProperty("path",t);var r=e.oSource.oFileUpload.files[0];var i=new FileReader;i.onload=function(e){var t=e.currentTarget.result;this.setProperty("value",t);this.fireUpload()}.bind(this);i.readAsDataURL(r)}.bind(o)});var n=new i;n.addItem(o.oFileUploader);n.addItem(o.oUploadButton);e.renderControl(n)}})});sap.ui.define("z2ui5/MultiInputExt",["sap/ui/core/Control","sap/m/Token","sap/ui/core/Core","sap/ui/core/Element"],(e,t,r,i)=>{"use strict";return e.extend("z2ui5.MultiInputExt",{metadata:{properties:{MultiInputId:{type:"String"},MultiInputName:{type:"String"},addedTokens:{type:"Array"},checkInit:{type:"Boolean",defaultValue:false},removedTokens:{type:"Array"}},events:{change:{allowPreventDefault:true,parameters:{}}}},init(){z2ui5.onAfterRendering.push(this.setControl.bind(this))},onTokenUpdate(e){this.setProperty("addedTokens",[]);this.setProperty("removedTokens",[]);if(e.mParameters.type=="removed"){let t=[];e.mParameters.removedTokens.forEach(e=>{t.push({KEY:e.getKey(),TEXT:e.getText()})});this.setProperty("removedTokens",t)}else{let t=[];e.mParameters.addedTokens.forEach(e=>{t.push({KEY:e.getKey(),TEXT:e.getText()})});this.setProperty("addedTokens",t)}this.fireChange()},renderer(e,t){z2ui5.onAfterRendering.push(this.setControl.bind(t))},setControl(){let e=z2ui5.oView.byId(this.getProperty("MultiInputId"));if(!e){try{}catch(e){return}}if(!e){return}if(this.getProperty("checkInit")==true){return}this.setProperty("checkInit",true);e.attachTokenUpdate(this.onTokenUpdate.bind(this));var r=function(e){var r=e.text;return new t({key:r,text:r})};e.addValidator(r)},renderer(e,t){}})});sap.ui.define("z2ui5/SmartMultiInputExt",["sap/ui/core/Control","sap/m/Token","sap/ui/core/Core","sap/ui/core/Element"],e=>{"use strict";return e.extend("z2ui5.SmartMultiInputExt",{metadata:{properties:{multiInputId:{type:"String"},addedTokens:{type:"Array"},removedTokens:{type:"Array"},rangeData:{type:"Array",defaultValue:[]},checkInit:{type:"Boolean",defaultValue:false}},events:{change:{allowPreventDefault:true,parameters:{}}}},init(){z2ui5.onAfterRendering.push(this.setControl.bind(this))},onTokenUpdate(e){this.setProperty("addedTokens",[]);this.setProperty("removedTokens",[]);if(e.mParameters.type=="removed"){let t=[];e.mParameters.removedTokens.forEach(e=>{t.push({KEY:e.getKey(),TEXT:e.getText()})});this.setProperty("removedTokens",t)}else{let t=[];e.mParameters.addedTokens.forEach(e=>{t.push({KEY:e.getKey(),TEXT:e.getText()})});this.setProperty("addedTokens",t)}const t=e.getSource().getTokens();this.setProperty("rangeData",e.getSource().getRangeData().map((e,r)=>{const i=t[r];e.tokenText=i.getText();e.tokenLongKey=i.data("longKey");return e}));this.fireChange()},setRangeData(e){this.setProperty("rangeData",e);this.inputInitialized().then(t=>{t.setRangeData(e.map(e=>{const t={};Object.entries(e).forEach(e=>{const r=e[0].toLowerCase();t[r==="keyfield"?"keyField":r]=e[1]});return t}));t.getTokens().forEach((t,r)=>{const i=e[r];t.data("longKey",i.TOKENLONGKEY);t.data("range",null);const o=i.TOKENTEXT;if(o){t.setText(o)}})})},renderer(e,t){},setControl(){const e=z2ui5.oView.byId(this.getProperty("multiInputId"));if(!e){return}if(this.getProperty("checkInit")==true){return}this.setProperty("checkInit",true);e.attachTokenUpdate(this.onTokenUpdate.bind(this));e.attachInnerControlsCreated(this.onInnerControlsCreated.bind(this))},inputInitialized(e){return new Promise((t,r)=>{if(this._bInnerControlsCreated){t(e)}else{this._oPendingInnerControlsCreated=t}})},_oPendingInnerControlsCreated:null,_bInnerControlsCreated:false,onInnerControlsCreated(e){const t=e.getSource();if(this._oPendingInnerControlsCreated){this._oPendingInnerControlsCreated(t)}this._oPendingInnerControlsCreated=null;this._bInnerControlsCreated=true}})});sap.ui.define("z2ui5/CameraPicture",["sap/ui/core/Control","sap/m/Dialog","sap/m/Button"],function(e,t,r){"use strict";return e.extend("z2ui5.CameraPicture",{metadata:{properties:{id:{type:"string"},value:{type:"string"},press:{type:"string"},autoplay:{type:"boolean",defaultValue:true}},events:{OnPhoto:{allowPreventDefault:true,parameters:{photo:{type:"string"}}}}},capture:function(e){var t=document.querySelector("#zvideo");var r=document.getElementById("zcanvas");var i="";r.width=200;r.height=200;r.getContext("2d").drawImage(t,0,0,200,200);i=r.toDataURL();this.setProperty("value",i);this.fireOnPhoto({photo:i})},onPicture:function(e){if(!this._oScanDialog){this._oScanDialog=new t({title:"Device Photo Function",contentWidth:"640px",contentHeight:"480px",horizontalScrolling:false,verticalScrolling:false,stretch:true,content:[new HTML({id:this.getId()+"PictureContainer",content:'<video width="600px" height="400px" autoplay="true" id="zvideo">'}),new r({text:"Capture",press:function(e){this.capture();this._oScanDialog.close()}.bind(this)}),new HTML({content:'<canvas hidden id="zcanvas" style="overflow:auto"></canvas>'})],endButton:new r({text:"Cancel",press:function(e){this._oScanDialog.close()}.bind(this)})})}this._oScanDialog.open();setTimeout(function(){var e=document.querySelector("#zvideo");if(navigator.mediaDevices.getUserMedia){navigator.mediaDevices.getUserMedia({video:{facingMode:{exact:"environment"}}}).then(function(t){e.srcObject=t}).catch(function(e){console.log("Something went wrong!")})}}.bind(this),300)},renderer:function(e,t){var i=new r({icon:"sap-icon://camera",text:"Camera",press:t.onPicture.bind(t)});e.renderControl(i)}})});sap.ui.define("z2ui5/UITableExt",["sap/ui/core/Control"],e=>{"use strict";return e.extend("z2ui5.UITableExt",{metadata:{properties:{tableId:{type:"String"}}},init(){z2ui5.onBeforeRoundtrip.push(this.readFilter.bind(this));z2ui5.onAfterRoundtrip.push(this.setFilter.bind(this))},readFilter(){try{let e=this.getProperty("tableId");let t=z2ui5.oView.byId(e);this.aFilters=t.getBinding().aFilters}catch(e){}},setFilter(){try{setTimeout(e=>{let t=this.getProperty("tableId");let r=z2ui5.oView.byId(t);r.getBinding().filter(e)},100,this.aFilters)}catch(e){}},renderer(e,t){}})});sap.ui.define("z2ui5/Util",[],()=>{"use strict";return{DateCreateObject:e=>new Date(e),DateAbapDateToDateObject:e=>new Date(e.slice(0,4),parseInt(e.slice(4,6))-1,e.slice(6,8)),DateAbapDateTimeToDateObject:(e,t="000000")=>new Date(e.slice(0,4),parseInt(e.slice(4,6))-1,e.slice(6,8),t.slice(0,2),t.slice(2,4),t.slice(4,6))}});sap.ui.require(["z2ui5/Util"],e=>{z2ui5.Util=e});sap.ui.define("z2ui5/Favicon",["sap/ui/core/Control"],e=>{"use strict";return e.extend("z2ui5.Favicon",{metadata:{properties:{favicon:{type:"string"}}},setFavicon(e){this.setProperty("favicon",e);let t=document.querySelector("head");let r=document.createElement("link");r.setAttribute("rel","shortcut icon");r.setAttribute("href",e);t.appendChild(r)},renderer(e,t){}})});sap.ui.define("z2ui5/Dirty",["sap/ui/core/Control","sap/ushell/Container"],(e,t)=>{"use strict";return e.extend("z2ui5.Dirty",{metadata:{properties:{isDirty:{type:"string"}}},setIsDirty(e){if(t){t.setDirtyFlag(e)}else{window.onbeforeunload=function(t){if(e){t.preventDefault()}}}},renderer(e,t){}})});
//# sourceMappingURL=App.controller.js.map